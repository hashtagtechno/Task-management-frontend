<app-header></app-header>
<div class="main-container">
    <app-sidebar></app-sidebar>
    <div class="content ms-3">

<div class="row">
    <div class="row">
        <div class="container-fluid mt-3">
            <div class="row">
              <div class="col-md-12 mb-4">
                <div class="d-flex justify-content-end mb-3">
                  <button class="btn btn-create" (click)="openAddUserModal()">+ Add User</button>
                </div>
                <div class="user-header-row mb-3 mt-5">
                    <div class="row">
                      <div class="col-3 title-label">User Name</div>
                      <div class="col-3 title-label">Email</div>
                      <div class="col-2 title-label">Role</div>
                     
                      
                    </div>
                  </div>
                <div class="accordion" id="userAccordion">
                    <div class="accordion-item" *ngFor="let user of users; let i = index">
                        
                      <h2 class="accordion-header" [id]="'heading' + i">
                        <div
                          class="accordion-button d-flex align-items-center justify-content-between"
                        >
                          <div class="d-flex w-100">
                            <!-- Side line -->
                            <div class="me-3">
                              <div class="vertical-line" [ngClass]="{
                                  'bg-blue-sideline': user.role === 'Project Manager',
                                  'bg-warning': user.role === 'Team member',
                                  'bg-success': user.role === 'Admin'
                                }"></div>
                            </div>
                      
                            <!-- Title and ID -->
                            <div class="p-1 col-3">
                              <div class="text-muted title-text">{{ user.name }}</div>
                              <div>
                                <span class="label-style">ID:</span>
                                <span class="label-style"><i>{{ getLast4Chars(user._id)}}</i></span>
                              </div>
                            </div>
                      
                            <!-- user -->
                            <div class="text-muted col-3 align-content-center">
                              <small>{{ user.email }}</small>
                            </div>
                      
                            <!-- Status -->
                            <div class="text-muted col-2 align-content-center">
                              <small>{{user.role}}</small>
                            </div>
                      
                            <!-- Due Date -->
                            <div class="text-muted col-2 align-content-center">
                              <img src= "user.profileImage" class="avatar">
                            </div>
                      
                            <!-- <div
                              class="text-muted col-1 align-content-center"
                            >
                              <small class="action-btn pointer" (click)="openviewuser(user.id)">View</small>
                            </div>
                            <div
                            class="text-muted col-1 align-content-center"
                          >
                            <small class="action-btn pointer" (click)="deleteuser(user.id)">Delete</small>
                          </div> -->
                          </div>
                        </div>
                      </h2>
                    </div>
                  </div>
                 </div> 